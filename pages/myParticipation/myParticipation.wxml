<view class="participation-container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="h1">我的参与</text>
  </view>
  
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading"></view>
  </view>
  
  <!-- 页面内容 -->
  <view wx:else class="content-container">
    <!-- 我参与的共读活动 -->
    <view class="section">
      <view class="section-header">
        <text class="h2">我的共读活动</text>
      </view>
      <view wx:if="{{activities.length > 0}}">
        <view wx:for="{{activities}}" wx:key="id" class="activity-card card">
          <view class="activity-info">
            <text class="activity-title">{{item.title}}</text>
            <text class="activity-date">{{item.startDate}} 至 {{item.endDate}}</text>
          </view>
          <view class="progress-container">
            <view class="progress-bar">
              <view class="progress-inner" style="width: {{item.progress}}%;"></view>
            </view>
            <text class="progress-text">{{item.progress}}%</text>
          </view>
        </view>
      </view>
      <view wx:else class="empty-list">
        <text>暂无参与的共读活动</text>
      </view>
    </view>
    
    <!-- 我的打卡记录 -->
    <view class="section">
      <view class="section-header">
        <text class="h2">我的打卡记录</text>
      </view>
      <view wx:if="{{checkIns.length > 0}}">
        <view wx:for="{{checkIns}}" wx:key="id" class="checkin-card card">
          <view class="checkin-header">
            <view class="checkin-book">
              <text class="book-title">《{{item.bookTitle}}》</text>
              <text class="checkin-date">{{item.date}}</text>
            </view>
            <view class="checkin-type {{item.type}}">{{item.type === 'text' ? '文字' : item.type === 'image' ? '图片' : item.type === 'voice' ? '语音' : '视频'}}</view>
          </view>
          <view class="checkin-content">
            <text>{{item.content}}</text>
          </view>
        </view>
      </view>
      <view wx:else class="empty-list">
        <text>暂无打卡记录</text>
      </view>
    </view>
    
    <!-- 我的组队 -->
    <view class="section">
      <view class="section-header">
        <text class="h2">我的组队</text>
      </view>
      <view wx:if="{{teams.length > 0}}">
        <view wx:for="{{teams}}" wx:key="id" class="team-card card">
          <view class="team-info">
            <text class="team-name">{{item.name}}</text>
            <text class="team-members">{{item.members}}人</text>
          </view>
          <view class="team-books">
            <text class="books-label">共读书目：</text>
            <text class="books-list">{{item.books.join('、')}}</text>
          </view>
        </view>
      </view>
      <view wx:else class="empty-list">
        <text>暂无参与的组队</text>
      </view>
    </view>
    
    <!-- 我的收藏 -->
    <view class="section">
      <view class="section-header">
        <text class="h2">我的收藏</text>
      </view>
      <view wx:if="{{favorites.length > 0}}" class="favorites-list">
        <view wx:for="{{favorites}}" wx:key="id" class="favorite-item">
          <image class="book-thumbnail" src="{{item.cover}}" mode="aspectFill"></image>
          <text class="book-title">{{item.title}}</text>
          <text class="book-author">{{item.author}}</text>
        </view>
      </view>
      <view wx:else class="empty-list">
        <text>暂无收藏图书</text>
      </view>
    </view>
  </view>
</view> 